<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kaihua Qin | Assistant Professor in Computer Science | PhD Positions Available | Blockchain Security Research</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Dr. Kaihua Qin is an Assistant Professor in Computer Science at University of Warwick. Researching blockchain security, decentralized systems, and AI for cybersecurity. Currently recruiting PhD students in blockchain, security, and decentralized systems.">
  <meta name="keywords" content="Kaihua Qin, Assistant Professor, Computer Science, University of Warwick, PhD positions, blockchain security, decentralized systems, cryptoeconomics, AI security, cybersecurity research, PhD recruitment, blockchain research, DeFi security, smart contract security">
  <meta name="author" content="Kaihua Qin">
  <meta name="robots" content="index, follow">
  
  <!-- Open Graph Meta Tags for Social Media -->
  <meta property="og:title" content="Kaihua Qin | Assistant Professor in Computer Science | PhD Positions Available">
  <meta property="og:description" content="Researching blockchain security, decentralized systems, and AI for cybersecurity. Currently recruiting PhD students in blockchain, security, and decentralized systems.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://qin.ac">
  <meta property="og:image" content="prof_pic.jpg">
  <meta property="og:site_name" content="Kaihua Qin Academic Homepage">
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Kaihua Qin | Assistant Professor | PhD Positions Available">
  <meta name="twitter:description" content="Researching blockchain security, decentralized systems, and AI for cybersecurity. Currently recruiting PhD students.">
  <meta name="twitter:image" content="prof_pic.jpg">
  
  <!-- Academic and Research Specific Meta Tags -->
  <meta name="citation_author" content="Kaihua Qin">
  <meta name="citation_author_institution" content="University of Warwick">
  <meta name="citation_author_email" content="kaihua@qin.ac">
  <meta name="citation_title" content="Kaihua Qin Academic Homepage">
  <meta name="citation_publication_date" content="2025">
  
  <!-- Location and Affiliation Meta Tags -->
  <meta name="geo.region" content="GB">
  <meta name="geo.placename" content="Coventry, United Kingdom">
  <meta name="geo.position" content="52.4068;-1.5197">
  <meta name="ICBM" content="52.4068, -1.5197">
  
  <!-- Canonical URL -->
  <link rel="canonical" href="https://qin.ac">
  
  <!-- Sitemap -->
  <link rel="sitemap" type="application/xml" title="Sitemap" href="sitemap.xml">
  <link rel="icon" type="image/svg+xml" href="favicon.svg">
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="style.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
  
  <!-- Structured Data for Search Engines -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Person",
    "name": "Kaihua Qin",
    "jobTitle": "Assistant Professor",
    "worksFor": {
      "@type": "Organization",
      "name": "University of Warwick",
      "department": "Department of Computer Science",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Coventry",
        "addressCountry": "GB"
      }
    },
    "alumniOf": [
      {
        "@type": "Organization",
        "name": "Imperial College London"
      },
      {
        "@type": "Organization",
        "name": "Yale University"
      }
    ],
    "knowsAbout": [
      "Blockchain Security",
      "Decentralized Systems",
      "Cryptoeconomics",
      "AI for Security",
      "Cybersecurity",
      "Smart Contract Security",
      "DeFi Security",
      "Distributed Computing",
      "Applied Cryptography"
    ],
    "url": "https://qin.ac",
    "sameAs": [
      "https://scholar.google.com/citations?user=-NPCrhcAAAAJ",
      "https://x.com/KaihuaQIN",
      "https://github.com/kaihuaqin",
      "https://www.linkedin.com/in/kaihuaqin"
    ],
    "image": "prof_pic.jpg",
    "description": "Assistant Professor in Computer Science researching blockchain security, decentralized systems, and AI for cybersecurity. Currently recruiting PhD students.",
    "hasOccupation": {
      "@type": "Occupation",
      "name": "Computer Science Researcher",
      "description": "Researching blockchain security, decentralized systems, and AI for cybersecurity"
    }
  }
  </script>
  
  <!-- Academic Position Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "JobPosting",
    "title": "PhD Student Position in Blockchain Security and Decentralized Systems",
    "description": "PhD positions available in blockchain security, decentralized systems, and AI for cybersecurity research. Join our research group at University of Warwick.",
    "hiringOrganization": {
      "@type": "Organization",
      "name": "University of Warwick",
      "department": "Department of Computer Science"
    },
    "jobLocation": {
      "@type": "Place",
      "address": {
        "@type": "PostalAddress",
        "addressLocality": "Coventry",
        "addressCountry": "GB"
      }
    },
    "employmentType": "FULL_TIME",
    "qualifications": "Strong background in Computer Science, Mathematics, or related fields. Interest in blockchain, security, or decentralized systems.",
    "responsibilities": "Conduct research in blockchain security, decentralized systems, or AI for cybersecurity. Publish in top-tier conferences and journals.",
    "datePosted": "2025-01-01",
    "validThrough": "2026-12-31"
  }
  </script>
</head>
<body>
  <main>
    <div class="theme-toggle-container">
      <button id="theme-toggle" aria-label="Toggle dark/light mode">
        <i id="theme-icon" class="fas fa-moon"></i>
      </button>
    </div>
    <header class="site-header">
      <h1 class="site-title">Kaihua Qin</h1>
      <nav class="tab-nav">
        <ul>
          <li><a href="#" class="tab-link active" data-tab="default">Home</a></li>
          <li><a href="#" class="tab-link" data-tab="publications">Publications</a></li>
          <li><a href="#" class="tab-link" data-tab="cv">CV</a></li>
        </ul>
      </nav>
    </header>
    <section class="tab-section active">
      <div class="bio-two-col">
        <div class="bio-col-left">
          <img src="prof_pic.jpg" alt="Profile picture" class="profile-pic-large" />
          <div class="bio-info">
            <h1 class="bio-name">Kaihua Qin</h1>
            <div class="bio-title">Assistant Professor</div>
            <div class="bio-affil">Department of Computer Science</div>
            <div class="bio-affil">University of Warwick</div>
            <div class="bio-email">
              <i class="fas fa-envelope"></i>kaihua[at]qin[dot]ac
            </div>
            <div class="social-icons">
              <a href="https://scholar.google.com/citations?user=-NPCrhcAAAAJ" target="_blank" title="Google Scholar">
                <i class="fas fa-graduation-cap"></i>
              </a>
              <a href="https://x.com/KaihuaQIN" target="_blank" title="X (Twitter)">
                <i class="fab fa-x-twitter"></i>
              </a>
              <a href="https://github.com/kaihuaqin" target="_blank" title="GitHub">
                <i class="fab fa-github"></i>
              </a>
              <a href="https://www.linkedin.com/in/kaihuaqin" target="_blank" title="LinkedIn">
                <i class="fab fa-linkedin"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="bio-col-right">
          <h2>About Me</h2>
          <p>
            I am an Assistant Professor in the Department of Computer Science at the University of Warwick. Before joining Warwick, I conducted research at Yale University with Prof. Fan Zhang and Prof. Zhong Shao.
          </p>
          <p>
            I earned my PhD at Imperial College London under the supervision of Prof. Arthur Gervais. Prior to that, I received my MSc from Imperial College London and my BE from Southeast University.
          </p>
          <p>
            I co-founded Decentralized Intelligence (D23E), where we advance decentralization and intelligence.
          </p>
        </div>
      </div>
      <div class="research-section">
        <h2>Research</h2>
        <div class="research-grid">
          <div class="research-block">
            <div class="research-icon">
              <i class="fas fa-network-wired"></i>
            </div>
            <h3>Decentralized Systems</h3>
            <p>Securing blockchains and other decentralized systems, with focuses on information security, distributed computing, and applied cryptography.</p>
          </div>
          
          <div class="research-block">
            <div class="research-icon">
              <i class="fas fa-coins"></i>
            </div>
            <h3>Cryptoeconomics</h3>
            <p>Bringing together game theory, mechanism design, and causal inference to align incentives and ensure resilient decentralized finance.</p>
          </div>
          
          <div class="research-block">
            <div class="research-icon">
              <i class="fas fa-brain"></i>
            </div>
            <h3>AI for Security</h3>
            <p>Applying AI to enhance cybersecurity, including automating threat detection and vulnerability management.</p>
          </div>
          
          <div class="research-block">
            <div class="research-icon">
              <i class="fas fa-shield-alt"></i>
            </div>
            <h3>Security of AI</h3>
            <p>Safeguarding machine learning models against adversarial attacks, privacy breaches, and other threats.</p>
          </div>
        </div>
      </div>
      <div class="recruiting-banner">
        🚀 <strong>PhD Positions Available - Currently Recruiting!</strong> 
        <p>I'm actively recruiting PhD students for my research group. If you're interested in pursuing a PhD in my research areas, please feel free to reach out with your CV at Kaihua[dot]Qin[at]warwick.ac.uk.</p>
        <p><strong>Funding:</strong> Various funding opportunities available. Please speak to me directly to discuss the options. Note that I may not respond to every inquiry.</p>
      </div>
    </section>
    <section id="publications" class="tab-section">
      <p class="bibliometrics-note">Bibliometrics can be found on <a href="https://scholar.google.com/citations?user=-NPCrhcAAAAJ" target="_blank">Google Scholar</a>.</p>
                              <div class="year-section">
        <h3 class="year-header" onclick="toggleYear(this)">
          <span>2025</span>
          <span class="year-toggle">▼</span>
        </h3>
        <ul class="pub-list">
          <li class="pub-entry"><span class="pub-abbr">SIGMETRICS 25</span> <span class="pub-title">Blockchain Amplification Attack</span><br><span class="pub-authors">Taro Tsuchiya, Liyi Zhou, <strong class="author-highlight">Kaihua Qin</strong>, Arthur Gervais, Nicolas Christin</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2408.01508" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">ISSTA 25</span> <span class="pub-title">Enhancing Smart Contract Security Analysis with Execution Property Graphs</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Zhe Ye, Zhun Wang, Weilin Li, Liyi Zhou, Chao Zhang, Dawn Song, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2305.14046" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">S&amp;P 25</span> <span class="pub-title">Security Perceptions of Users in Stablecoins: Advantages and Risks within the Cryptocurrency Ecosystem</span><br><span class="pub-authors">Maggie Yongqi Guan, Yaman Yu, Tanusree Sharma, Molly Zhuangtong Huang, <strong class="author-highlight">Kaihua Qin</strong>, Yang Wang, Kanye Ye Wang</span><br><span class="pub-links"><a href="https://eprint.iacr.org/2024/1538" target="_blank">ePrint</a></span></li>
        </ul>
      </div>

      <div class="year-section">
        <h3 class="year-header" onclick="toggleYear(this)">
          <span>2024</span>
          <span class="year-toggle">▼</span>
        </h3>
        <ul class="pub-list">
          <li class="pub-entry"><span class="pub-abbr">WWW 24</span> <span class="pub-title">Blockchain censorship</span><br><span class="pub-authors">Anton Wahrstätter, Jens Ernstberger, Aviv Yaish, Liyi Zhou, <strong class="author-highlight">Kaihua Qin</strong>, Taro Tsuchiya, Sebastian Steinhorst, Davor Svetinovic, Nicolas Christin, Mikolaj Barczentewicz, others</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2305.18545" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">AFT 24</span> <span class="pub-title">DeFiAligner: Leveraging Symbolic Analysis and Large Language Models for Inconsistency Detection in Decentralized Finance</span><br><span class="pub-authors">Rundong Gan, Liyi Zhou, Le Wang, <strong class="author-highlight">Kaihua Qin</strong>, Xiaodong Lin</span></li>
          <li class="pub-entry"><span class="pub-abbr">Security 24</span> <span class="pub-title">Speculative Denial-of-Service Attacks In Ethereum</span><br><span class="pub-authors">Aviv Yaish, <strong class="author-highlight">Kaihua Qin</strong>, Liyi Zhou, Aviv Zohar, Arthur Gervais</span><br><span class="pub-links"><a href="https://eprint.iacr.org/2023/956" target="_blank">ePrint</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">ICBC 24</span> <span class="pub-title">What Drives the (In) stability of a Stablecoin?</span><br><span class="pub-authors">Yujin Potter, Kornrapat Pongmala, <strong class="author-highlight">Kaihua Qin</strong>, Ariah Klages-Mundt, Philipp Jovanovic, Christine Parlour, Arthur Gervais, Dawn Song</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2307.11754" target="_blank">arXiv</a></span></li>
        </ul>
      </div>

      <div class="year-section">
        <h3 class="year-header" onclick="toggleYear(this)">
          <span>2023</span>
          <span class="year-toggle">▼</span>
        </h3>
        <ul class="pub-list">
          <li class="pub-entry"><span class="pub-abbr">FC 23</span> <span class="pub-title">Mitigating decentralized finance liquidations with reversible call options</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Jens Ernstberger, Liyi Zhou, Philipp Jovanovic, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2303.15162" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">WWW 23</span> <span class="pub-title">On how zero-knowledge proof blockchain mixers improve, and worsen user privacy</span><br><span class="pub-authors">Zhipeng Wang, Stefanos Chaliasos, <strong class="author-highlight">Kaihua Qin</strong>, Liyi Zhou, Lifeng Gao, Pascal Berrang, Benjamin Livshits, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2201.09035" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">S&amp;P 23</span> <span class="pub-title">Sok: Decentralized finance (defi) attacks</span><br><span class="pub-authors">Liyi Zhou, Xihan Xiong, Jens Ernstberger, Stefanos Chaliasos, Zhipeng Wang, Ye Wang, <strong class="author-highlight">Kaihua Qin</strong>, Roger Wattenhofer, Dawn Song, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2208.13035" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">Security 23</span> <span class="pub-title">The blockchain imitation game</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Stefanos Chaliasos, Liyi Zhou, Benjamin Livshits, Dawn Song, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2303.17877" target="_blank">arXiv</a> | <a href="https://medium.com/@kaihua.qin/the-blockchain-imitation-game-c489553efd83" target="_blank">Blog</a></span></li>
        </ul>
      </div>

      <div class="year-section collapsed">
        <h3 class="year-header" onclick="toggleYear(this)">
          <span>2022</span>
          <span class="year-toggle">▼</span>
        </h3>
        <ul class="pub-list">
          <li class="pub-entry"><span class="pub-abbr">S&amp;P 22</span> <span class="pub-title">Quantifying blockchain extractable value: How dark is the forest?</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Liyi Zhou, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2101.05511" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">FC 22</span> <span class="pub-title">Speculative multipliers on defi: Quantifying on-chain leverage risks</span><br><span class="pub-authors">Zhipeng Wang, <strong class="author-highlight">Kaihua Qin</strong>, Duc Vu Minh, Arthur Gervais</span></li>
        </ul>
      </div>

      <div class="year-section collapsed">
        <h3 class="year-header" onclick="toggleYear(this)">
          <span>2021</span>
          <span class="year-toggle">▼</span>
        </h3>
        <ul class="pub-list">
          <li class="pub-entry"><span class="pub-abbr">IMC 21</span> <span class="pub-title">An empirical study of defi liquidations: Incentives, risks, and instabilities</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Liyi Zhou, Pablo Gamito, Philipp Jovanovic, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2106.06389" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">FC 21</span> <span class="pub-title">Attacking the defi ecosystem with flash loans for fun and profit</span><br><span class="pub-authors"><strong class="author-highlight">Kaihua Qin</strong>, Liyi Zhou, Benjamin Livshits, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2003.03810" target="_blank">arXiv</a> | <a href="https://hackingdistributed.com/2020/03/11/flash-loans/" target="_blank">Blog</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">S&amp;P 21</span> <span class="pub-title">High-frequency trading on decentralized on-chain exchanges</span><br><span class="pub-authors">Liyi Zhou, <strong class="author-highlight">Kaihua Qin</strong>, Christof Ferreira Torres, Duc V Le, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2009.14021" target="_blank">arXiv</a></span></li>
          <li class="pub-entry"><span class="pub-abbr">S&amp;P 21</span> <span class="pub-title">On the just-in-time discovery of profit-generating transactions in defi protocols</span><br><span class="pub-authors">Liyi Zhou, <strong class="author-highlight">Kaihua Qin</strong>, Antoine Cully, Benjamin Livshits, Arthur Gervais</span><br><span class="pub-links"><a href="https://arxiv.org/abs/2103.02228" target="_blank">arXiv</a></span></li>
        </ul>
      </div>
    </section>
    <section id="cv" class="tab-section">
      <div class="cv-container">
        <div class="pdf-viewer">
          <div id="pdf-container">
            <div class="pdf-controls">
              <button id="zoom-out" class="pdf-control-btn" title="Zoom Out">
                <i class="fas fa-minus"></i>
              </button>
              <span id="zoom-level">100%</span>
              <button id="zoom-in" class="pdf-control-btn" title="Zoom In">
                <i class="fas fa-plus"></i>
              </button>
              <button id="fit-width" class="pdf-control-btn" title="Fit Width">
                <i class="fas fa-arrows-alt-h"></i>
              </button>
              <button class="pdf-control-btn" onclick="window.open('cv.pdf', '_blank')" title="Download PDF">
                <i class="fas fa-download"></i>
              </button>
            </div>
            <div id="pdf-loading">Loading PDF...</div>
          </div>
        </div>
      </div>
    </section>
  </main>
  <footer class="site-footer">
    <p>&copy; 2025 Kaihua Qin. All rights reserved.</p>
  </footer>
<script>
  // Theme toggle logic
  const toggleBtn = document.getElementById('theme-toggle');
  const icon = document.getElementById('theme-icon');
  const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
  const storedTheme = localStorage.getItem('theme');

  function setTheme(theme) {
    if (theme === 'light') {
      document.body.classList.add('light');
      icon.className = 'fas fa-sun';
    } else {
      document.body.classList.remove('light');
      icon.className = 'fas fa-moon';
    }
    localStorage.setItem('theme', theme);
  }

  // Initial theme
  if (storedTheme) {
    setTheme(storedTheme);
  } else if (!prefersDark) {
    setTheme('light');
  }

  toggleBtn.addEventListener('click', () => {
    const isLight = document.body.classList.contains('light');
    setTheme(isLight ? 'dark' : 'light');
  });

  // Year toggle functionality
  function toggleYear(header) {
    const yearSection = header.parentElement;
    yearSection.classList.toggle('collapsed');
  }

  // PDF zoom variables
  let currentZoom = 1.0;
  let pdfDoc = null;
  const baseScale = 1.0;
  
  // PDF.js implementation
  async function loadPDF() {
    const container = document.getElementById('pdf-container');
    const loading = document.getElementById('pdf-loading');
    
    try {
      // Set PDF.js worker
      pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js';
      
      // Load the PDF
      const pdf = await pdfjsLib.getDocument('cv.pdf').promise;
      pdfDoc = pdf;
      
      // Render PDF pages
      await renderPDFPages();
    } catch (error) {
      loading.textContent = 'Error loading PDF. Please download instead.';
      console.error('PDF loading error:', error);
    }
  }

  // Load PDF when CV tab is active
  document.addEventListener('DOMContentLoaded', function() {
    const cvTab = document.querySelector('[data-tab="cv"]');
    if (cvTab) {
      cvTab.addEventListener('click', function() {
        // Only load PDF once
        if (!document.querySelector('.pdf-page')) {
          setTimeout(() => {
            // Ensure event listeners are attached
            const zoomInBtn = document.getElementById('zoom-in');
            const zoomOutBtn = document.getElementById('zoom-out');
            const fitWidthBtn = document.getElementById('fit-width');
            
            if (zoomInBtn) zoomInBtn.addEventListener('click', zoomIn);
            if (zoomOutBtn) zoomOutBtn.addEventListener('click', zoomOut);
            if (fitWidthBtn) fitWidthBtn.addEventListener('click', fitWidth);
            
            updateZoomButtons();
            loadPDF();
          }, 100);
        }
      });
    }
  });

  // PDF zoom functions
  function renderPDF() {
    if (!pdfDoc) {
      // If PDF not loaded yet, just load it normally
      loadPDF();
      return;
    }
    
    const container = document.getElementById('pdf-container');
    
    // Clear only PDF pages, preserve controls and loading
    const pdfPages = container.querySelectorAll('.pdf-page-container');
    pdfPages.forEach(page => page.remove());
    
    // Add/remove zoom class based on current zoom level
    if (currentZoom > 1.0) {
      container.classList.add('pdf-zoomed');
    } else {
      container.classList.remove('pdf-zoomed');
    }
    
    // Re-render PDF with new zoom level
    renderPDFPages();
  }
  
  async function renderPDFPages() {
    const container = document.getElementById('pdf-container');
    const loading = document.getElementById('pdf-loading');
    
    if (loading) {
      loading.style.display = 'none';
    }
    
    // Get container width for scaling
    const isMobile = window.innerWidth <= 600;
    let containerWidth = container.offsetWidth;
    
    // On mobile, ensure we account for any padding/margins
    if (isMobile) {
      containerWidth = Math.min(containerWidth, window.innerWidth - 20);
    }
    
    // When zoomed in on mobile, allow wider rendering
    if (isMobile && currentZoom > 1.0) {
      containerWidth = container.offsetWidth;
    }
    
    // Render each page
    for (let pageNum = 1; pageNum <= pdfDoc.numPages; pageNum++) {
      const page = await pdfDoc.getPage(pageNum);
      
      // Calculate scale to fit container width
      const viewport = page.getViewport({ scale: 1.0 });
      let scale = containerWidth / viewport.width;
      
      // Apply current zoom level
      scale = scale * currentZoom;
      
      // Always ensure the PDF fits within the viewport
      const scaledViewport = page.getViewport({ scale: scale });
      
      // Create page container
      const pageContainer = document.createElement('div');
      pageContainer.className = 'pdf-page-container';
      
      // Only set explicit dimensions when zoomed
      if (currentZoom > 1.0) {
        pageContainer.style.width = scaledViewport.width + 'px';
        pageContainer.style.height = scaledViewport.height + 'px';
        pageContainer.style.minWidth = scaledViewport.width + 'px';
      } else {
        pageContainer.style.width = '';
        pageContainer.style.height = '';
        pageContainer.style.minWidth = '';
      }
      
      // Create canvas for this page
      const canvas = document.createElement('canvas');
      canvas.className = 'pdf-page';
      
      // Set actual canvas size for crisp rendering
      const pixelRatio = window.devicePixelRatio || 1;
      canvas.width = scaledViewport.width * pixelRatio;
      canvas.height = scaledViewport.height * pixelRatio;
      
      // Set display size
      canvas.style.width = scaledViewport.width + 'px';
      canvas.style.height = scaledViewport.height + 'px';
      
      // Scale the drawing context for crisp rendering
      const context = canvas.getContext('2d');
      context.scale(pixelRatio, pixelRatio);
      
      // Render page to canvas
      await page.render({
        canvasContext: context,
        viewport: scaledViewport
      }).promise;
      
      // Create text layer for selectable text
      const textLayer = document.createElement('div');
      textLayer.className = 'pdf-text-layer';
      
      // Get text content and render it
      const textContent = await page.getTextContent();
      await pdfjsLib.renderTextLayer({
        textContent: textContent,
        container: textLayer,
        viewport: scaledViewport,
        textDivs: []
      }).promise;
      
      // Add canvas and text layer to container
      pageContainer.appendChild(canvas);
      pageContainer.appendChild(textLayer);
      container.appendChild(pageContainer);
    }
  }
  
  function zoomIn() {
    currentZoom = Math.min(currentZoom * 1.25, 3.0);
    document.getElementById('zoom-level').textContent = Math.round(currentZoom * 100) + '%';
    updateZoomButtons();
    renderPDF();
  }
  
  function zoomOut() {
    // Don't allow zoom out below 100% (fit-to-width is the minimum)
    currentZoom = Math.max(currentZoom / 1.25, 1.0);
    document.getElementById('zoom-level').textContent = Math.round(currentZoom * 100) + '%';
    
    // Update button states
    updateZoomButtons();
    renderPDF();
  }
  
  function fitWidth() {
    currentZoom = 1.0;
    document.getElementById('zoom-level').textContent = '100%';
    updateZoomButtons();
    renderPDF();
  }
  
  function updateZoomButtons() {
    const zoomOutBtn = document.getElementById('zoom-out');
    const zoomInBtn = document.getElementById('zoom-in');
    
    // Disable zoom out if at minimum (fit-to-width)
    if (zoomOutBtn) {
      zoomOutBtn.disabled = currentZoom <= 1.0;
      zoomOutBtn.style.opacity = currentZoom <= 1.0 ? '0.5' : '1';
    }
    
    // Disable zoom in if at maximum
    if (zoomInBtn) {
      zoomInBtn.disabled = currentZoom >= 3.0;
      zoomInBtn.style.opacity = currentZoom >= 3.0 ? '0.5' : '1';
    }
  }
  
  // Tab functionality
  function showTab(tab) {
    document.querySelectorAll('.tab-section').forEach(sec => {
      if (sec.id === tab) {
        sec.classList.add('active');
      } else if (tab === 'default' && !sec.id) {
        // Default tab (bio section) has no ID
        sec.classList.add('active');
      } else {
        sec.classList.remove('active');
      }
    });
    document.querySelectorAll('.tab-link').forEach(link => {
      if (link.dataset.tab === tab) {
        link.classList.add('active');
      } else if (tab === 'default' && link.dataset.tab === 'bio') {
        // Default tab link
        link.classList.add('active');
      } else {
        link.classList.remove('active');
      }
    });
    
    // Update URL hash without triggering page scroll
    if (tab === 'default') {
      if (history.pushState) {
        history.pushState(null, null, '/');
      }
    } else if (history.pushState) {
      history.pushState(null, null, '#' + tab);
    }
  }
  
  // Function to get tab from URL hash
  function getTabFromHash() {
    const hash = window.location.hash.substring(1);
    if (hash && ['publications', 'cv'].includes(hash)) {
      return hash;
    }
    return 'default'; // default tab (bio section)
  }
  
  // Initialize tab based on URL hash
  function initializeTab() {
    const tab = getTabFromHash();
    showTab(tab);
  }
  
  // Handle browser back/forward buttons
  window.addEventListener('popstate', function() {
    initializeTab();
  });
  
  // Initialize tab on page load
  initializeTab();
  
  // Add click event listeners to tab links
  document.querySelectorAll('.tab-link').forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      showTab(this.dataset.tab);
    });
  });
  
  // Add zoom control event listeners
  document.addEventListener('DOMContentLoaded', function() {
    const zoomInBtn = document.getElementById('zoom-in');
    const zoomOutBtn = document.getElementById('zoom-out');
    const fitWidthBtn = document.getElementById('fit-width');
    
    if (zoomInBtn) zoomInBtn.addEventListener('click', zoomIn);
    if (zoomOutBtn) zoomOutBtn.addEventListener('click', zoomOut);
    if (fitWidthBtn) fitWidthBtn.addEventListener('click', fitWidth);
    
    // Initialize button states
    updateZoomButtons();
  });
</script>
</body>
</html> 